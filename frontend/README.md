# Image Moderation Frontend

Это фронтенд-часть веб-приложения для генерации изображений с помощью Stable Diffusion и их последующей модерации. Приложение разработано с использованием React и Vite.

## Основные возможности

- Просмотр коллекций и проектов в виде сетки.
- Запуск пакетной генерации изображений для выбранных коллекций и проектов через API бэкенда.
- Отслеживание статуса генерации в реальном времени с помощью WebSocket.
- Выбор "обложки" (лучшего изображения) для каждой пары Коллекция-Проект через модальное окно.
- Редактирование промптов и комментариев для коллекций с автосохранением.
- Управление проектами (просмотр, добавление).
- (Планируется) Интерфейс модерации сгенерированных изображений.

## Технологии

- **Фреймворк:** React 18+
- **Сборщик:** Vite
- **Маршрутизация:** React Router DOM
- **UI-компоненты:** React Bootstrap, React Bootstrap Icons
- **HTTP-клиент:** Axios
- **Realtime:** Socket.IO Client
- **Управление состоянием:** React Context API (для коллекций)

## Структура проекта (`src`)

- **`components/`**
  - **`common/`**: Общие, переиспользуемые UI-компоненты (пока нет).
  - **`layout/`**: Компоненты для общей структуры страниц (например, `Layout.jsx` с Navbar).
- **`context/`**: React Context для управления глобальным состоянием (например, `CollectionContext.jsx`).
- **`features/`**: Основные функциональные модули приложения. Каждый модуль содержит свои компоненты, хуки и стили.
  - `collections/`
  - `generation/`
  - `projects/`
  - `selection/`
- **`hooks/`**: Глобальные пользовательские хуки (например, `useWebSocket.js`).
- **`pages/`**: Компоненты-страницы, собирающие фичи для конкретных маршрутов (например, `ProjectsPage.jsx`).
- **`services/`**: Функции для взаимодействия с API (пока не используется, запросы в хуках).
- **`styles/`**: Глобальные стили и стили компонентов.
- **`utils/`**: Вспомогательные функции (пока нет).
- `App.jsx`: Корневой компонент приложения, настройка маршрутизации и провайдеров контекста.
- `main.jsx`: Точка входа приложения React.

## Запуск

1.  **Установите зависимости:**
    ```bash
    npm install
    # или
    yarn install
    ```
2.  **Настройте переменные окружения:**
    Создайте файл `.env` в корневой директории `frontend` и добавьте URL бэкенда и WebSocket (если они отличаются от дефолтных). Пример:

    ```dotenv
    # Не используется напрямую в коде, но полезно для справки
    VITE_API_BASE_URL=http://localhost:5001/api
    VITE_SOCKET_URL=http://localhost:5001

    # Включить/выключить отображение отладочной информации WebSocket
    VITE_SHOW_DEBUG=true
    ```

    _Примечание:_ Текущий код использует жестко закодированные URL (`http://localhost:5001`), но рекомендуется использовать переменные окружения для гибкости.

3.  **Запустите сервер разработки:**
    ```bash
    npm run dev
    # или
    yarn dev
    ```
    Приложение будет доступно по адресу, указанному Vite (обычно `http://localhost:5173`).

## Сборка для продакшена

```bash
npm run build
# или
yarn build
```

Собранные файлы будут находиться в директории `dist`.
